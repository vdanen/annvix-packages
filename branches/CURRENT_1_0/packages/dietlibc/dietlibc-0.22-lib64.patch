--- dietlibc-0.22/Makefile.lib64	2002-11-29 09:05:14.000000000 -0500
+++ dietlibc-0.22/Makefile	2002-11-29 09:13:48.000000000 -0500
@@ -4,11 +4,6 @@ prefix=/usr
 #DESTDIR=/tmp/fefix
 # Use "make DEBUG=1" to compile a debug version.
 
-LIBDIR=${prefix}/lib
-BINDIR=${prefix}/bin
-MAN1DIR=${prefix}/share/man/man1
-INSTALLHOME=$(prefix)/lib/dietlibc
-
 MYARCH:=$(shell uname -m | sed -e 's/i[4-9]86/i386/' -e 's/armv[3-6][lb]/arm/' -e 's/ppc64/ppc/')
 
 # This extra-ugly cruft is here so make will not run uname and sed each
@@ -67,6 +62,14 @@ endif
 
 # ARCH=$(MYARCH)
 
+LIBDIR=${prefix}/lib
+ifeq ($(ARCH),x86_64)
+LIBDIR=${prefix}/lib64
+endif
+BINDIR=${prefix}/bin
+MAN1DIR=${prefix}/share/man/man1
+INSTALLHOME=$(LIBDIR)/dietlibc
+
 OBJDIR=bin-$(ARCH)
 ILIBDIR=$(INSTALLHOME)/lib-$(ARCH)
 
@@ -316,7 +319,7 @@ endif
 	-$(INSTALL) $(PICODIR)/dstart.o $(PICODIR)/dyn_so_start.o $(DESTDIR)$(ILIBDIR)
 	$(INSTALL) -m 644 diet.1 $(DESTDIR)$(MAN1DIR)/diet.1
 	if test -f $(PICODIR)/libc.so -a ! -f $(DESTDIR)/etc/diet.ld.conf; then echo "$(ILIBDIR)" > $(DESTDIR)/etc/diet.ld.conf; fi
-	for i in `find include -name \*.h`; do install -m 644 -D $$i $(DESTDIR)$(prefix)/lib/dietlibc/$$i; done
+	for i in `find include -name \*.h`; do install -m 644 -D $$i $(DESTDIR)$(INSTALLHOME)/$$i; done
 
 .PHONY: sparc ppc mips arm alpha i386 parisc mipsel powerpc s390 sparc64
 .PHONY: x86_64 ia64
