
Don't eat all the entropy.

--- apr-0.9.3/test/testrand.c.testrand	2003-01-01 00:01:56.000000000 +0000
+++ apr-0.9.3/test/testrand.c	2003-04-28 15:05:01.000000000 +0100
@@ -64,16 +64,13 @@
     CuNotImpl(tc, "apr_generate_random_bytes");
 #else
     apr_status_t rv;
-    unsigned char c[2048];
-    int i;
+    unsigned char c[100];
 
     /* There must be a better way to test random-ness, but I don't know
      * what it is right now.
      */
-    for (i = 1; i <= 8; i++) {
-        rv = apr_generate_random_bytes(c, i * 255);
+        rv = apr_generate_random_bytes(c, sizeof c);
         apr_assert_success(tc, "apr_generate_random_bytes failed", rv);
-    }
 #endif
 }    
 
