diff -urNp --exclude-from=/home/mitica/quintela/config/misc/dontdiff --exclude='defconfig*' w2/drivers/scsi/qla1280.h w1/drivers/scsi/qla1280.h
--- w2/drivers/scsi/qla1280.h	2003-08-21 03:10:50.000000000 +0200
+++ w1/drivers/scsi/qla1280.h	2003-08-21 02:53:29.000000000 +0200
@@ -1397,7 +1397,7 @@ int qla1280_abort(Scsi_Cmnd *);
 int qla1280_reset(Scsi_Cmnd *, unsigned int);
 int qla1280_biosparam(Disk *, kdev_t, int[]);
 void qla1280_intr_handler(int, void *, struct pt_regs *);
-void qla1280_setup(char *s, int *dummy);
+static void qla1280_setup(char *s, int *dummy);
 
 #  define QLA1280_BIOSPARAM  qla1280_biosparam
 
diff -urNp --exclude-from=/home/mitica/quintela/config/misc/dontdiff --exclude='defconfig*' --exclude='log.*' --exclude='log2?' w2/drivers/scsi/qla2x00.c w1/drivers/scsi/qla2x00.c
--- w2/drivers/scsi/qla2x00.c	2003-08-20 19:14:09.000000000 +0200
+++ w1/drivers/scsi/qla2x00.c	2003-08-20 20:48:21.000000000 +0200
@@ -1180,9 +1180,9 @@ int hostno, int inout) {
       	if( (cp = sp->cmd) == NULL )
                continue;
         size = sprintf(PROC_BUF,
-           "(%d): Pid=%ld, sp flags=0x%x, cmd=0x%p, state=%x handle=%x\n\r",
-           i, (int)sp->cmd->pid, (long)sp->flags,
-           CMD_SP(sp->cmd),(int)sp->state,CMD_HANDLE(sp->cmd));
+           "(%d): Pid=%lu, sp flags=0x%x, cmd=0x%p, state=%x handle=%p\n\r",
+           i, sp->cmd->pid, sp->flags,
+           CMD_SP(sp->cmd),sp->state,CMD_HANDLE(sp->cmd));
 
       	len += size;
         if( len >= qla2100_buffer_size )
@@ -12604,11 +12604,11 @@ ql2100_dump_requests(scsi_qla_host_t *ha
                         continue;
                     if( (cp = sp->cmd) == NULL )
                         continue;
-                    sprintf(debug_buff,"(%d): Pid=%ld, sp flags=0x%x, cmd=0x%p\n\r", i, (int)sp->cmd->pid, (long)sp->flags,CMD_SP(sp->cmd));
+                    sprintf(debug_buff,"(%d): Pid=%lu, sp flags=0x%x, cmd=0x%p\n\r", i, sp->cmd->pid, sp->flags,CMD_SP(sp->cmd));
 
 #ifdef QL_DEBUG_ROUTINES
                     qla2100_print(debug_buff);
-#else
+#elsex
                     printk(KERN_INFO "%s",debug_buff);
 #endif
                 }
diff -urNp --exclude-from=/home/mitica/quintela/config/misc/dontdiff --exclude='defconfig*' --exclude='log.*' --exclude='log2?' w2/drivers/scsi/qlogicfas.c w1/drivers/scsi/qlogicfas.c
--- w2/drivers/scsi/qlogicfas.c	2003-06-13 16:51:36.000000000 +0200
+++ w1/drivers/scsi/qlogicfas.c	2003-08-19 02:00:06.000000000 +0200
@@ -647,7 +647,7 @@ host->proc_name =  "qlogicfas";
 	if(request_irq(qlirq, do_ql_ihandl, SA_SHIRQ, "qlogicfas", hreg) < 0)
 #endif	
 	{
-		scsi_unregister(host);
+		scsi_unregister(hreg);
 		goto err_release_mem;
 	}
 #endif
diff -urNp --exclude-from=/home/mitica/quintela/config/misc/dontdiff --exclude='defconfig*' --exclude='log.*' --exclude='log2?' w2/drivers/scsi/qlogicfc.c w1/drivers/scsi/qlogicfc.c
--- w2/drivers/scsi/qlogicfc.c	2003-06-13 16:51:36.000000000 +0200
+++ w1/drivers/scsi/qlogicfc.c	2003-08-19 02:00:37.000000000 +0200
@@ -722,7 +722,7 @@ int isp2x00_detect(Scsi_Host_Template * 
 				continue;
 
 			/* Try to configure DMA attributes. */
-			if (pci_set_dma_mask(pdev, (u64) 0xffffffffffffffff) &&
+			if (pci_set_dma_mask(pdev, (u64) 0xffffffffffffffffULL) &&
 			    pci_set_dma_mask(pdev, (u64) 0xffffffff))
 					continue;
 
