diff -urNp --exclude-from=/home/mitica/quintela/config/misc/dontdiff g1/arch/i386/Makefile g2/arch/i386/Makefile
--- g1/arch/i386/Makefile	2003-08-01 19:18:58.000000000 +0200
+++ g2/arch/i386/Makefile	2003-08-01 20:07:19.000000000 +0200
@@ -129,6 +129,9 @@ endif
 
 MAKEBOOT = $(MAKE) -C arch/$(ARCH)/boot
 
+arch/i386/vmlinux.lds: arch/i386/vmlinux.lds.S FORCE
+	$(CPP) -C -P -I$(HPATH) -imacros $(HPATH)/linux/config.h -imacros $(HPATH)/asm-i386/segment.h -imacros $(HPATH)/asm-i386/page_offset.h -Ui386 arch/i386/vmlinux.lds.S >arch/i386/vmlinux.lds
+
 vmlinux: arch/i386/vmlinux.lds
 
 FORCE: ;
@@ -165,6 +168,7 @@ archclean:
 	@$(MAKEBOOT) clean
 
 archmrproper:
+	rm -f arch/i386/vmlinux.lds
 
 archdep:
 	@$(MAKEBOOT) dep
