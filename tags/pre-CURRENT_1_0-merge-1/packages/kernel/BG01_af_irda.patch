diff -urNp --exclude-from=/home/mitica/quintela/config/misc/dontdiff --exclude='defconfig*' --exclude='log.*' --exclude='log2?' w2/net/irda/af_irda.c w1/net/irda/af_irda.c
--- w2/net/irda/af_irda.c	2003-08-20 19:13:31.000000000 +0200
+++ w1/net/irda/af_irda.c	2003-08-20 16:02:29.000000000 +0200
@@ -1897,12 +1897,6 @@ static int irda_setsockopt(struct socket
 			break;
 		case IAS_STRING:
 			/* Should check charset & co */
-			/* Check length */
-			if(ias_opt->attribute.irda_attrib_string.len >
-			   IAS_MAX_STRING) {
-				kfree(ias_opt);
-				return -EINVAL;
-			}
 			/* NULL terminate the string (avoid troubles) */
 			ias_opt->attribute.irda_attrib_string.string[ias_opt->attribute.irda_attrib_string.len] = '\0';
 			/* Add a string attribute */
