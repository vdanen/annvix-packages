
https://bugzilla.redhat.com/bugzilla/show_bug.cgi?id=124318

--- php-4.3.7/ext/gmp/gmp.c.gmppowm
+++ php-4.3.7/ext/gmp/gmp.c
@@ -830,8 +830,7 @@
 	}
 	FETCH_GMP_ZVAL(gmpnum_mod, mod_arg);
 
-	convert_to_long_ex(mod_arg);
-	if (!Z_LVAL_PP(mod_arg)) {
+	if (!mpz_cmp_ui(*gmpnum_mod, 0)) {
 		RETURN_FALSE;
 	}
 
