#!/bin/sh
PATH="/sbin:/usr/sbin:/bin:/usr/bin:$PATH"

# this runs authdaemond daemon under supervise

AUTHDIR="/usr/lib/courier/authlib"
AUTHDAEMOND=authdaemond.plain

[[ -x $AUTHDIR/authdaemond.ldap ]] && AUTHDAEMOND=authdemond.ldap
[[ -x $AUTHDIR/authdaemond.mysql ]] && AUTHDAEMOND=authdemond.mysql
[[ -x $AUTHDIR/authdaemond.pgsql ]] && AUTHDAEMOND=authdemond.pgsql

. /etc/courier/authdaemonrc

[[ "$version" = "" ]] || AUTHDAEMOND="$version"

exec $AUTHDIR/$AUTHDAEMOND 2>&1
