# ncurses 5.5 - patch 20051015 - T.Dickey
#
# ------------------------------------------------------------------------------
#
# Ncurses 5.5 is at
# 	ftp.gnu.org:/pub/gnu
#
# Patches for ncurses 5.5 are in the subdirectory
# 	ftp://invisible-island.net/ncurses/5.5
#
# ------------------------------------------------------------------------------
# INSTALL           |    6 ++
# NEWS              |   13 +++++
# configure         |  113 ++++++++++++++++++++++++++--------------------------
# configure.in      |   11 +++--
# dist.mk           |    4 -
# misc/terminfo.src |    9 ++--
# 6 files changed, 90 insertions(+), 66 deletions(-)
# ------------------------------------------------------------------------------
Index: INSTALL
Prereq:  1.98 
--- ncurses-5.5-20051010+/INSTALL	2005-10-09 14:09:37.000000000 +0000
+++ ncurses-5.5-20051015/INSTALL	2005-10-15 20:15:44.000000000 +0000
@@ -1,4 +1,4 @@
--- $Id: INSTALL,v 1.98 2005/10/09 14:09:37 tom Exp $
+-- $Id: INSTALL,v 1.99 2005/10/15 20:15:44 tom Exp $
 ---------------------------------------------------------------------
              How to install Ncurses/Terminfo on your system
 ---------------------------------------------------------------------
@@ -678,6 +678,10 @@
     --with-normal
 	Generate normal (i.e., static) libraries (default).
 
+	Note: on Linux, the configure script will attempt to use the GPM
+	library via the dlsym() function call.  Use --without-gpm to disable
+	this feature.
+
     --with-profile
 	Generate profile-libraries These are named by adding "_p" to the root,
 	e.g., libncurses_p.a
Index: NEWS
Prereq:  1.929 
--- ncurses-5.5-20051010+/NEWS	2005-10-09 14:17:59.000000000 +0000
+++ ncurses-5.5-20051015/NEWS	2005-10-16 00:21:50.000000000 +0000
@@ -1,4 +1,4 @@
--- $Id: NEWS,v 1.929 2005/10/09 14:17:59 tom Exp $
+-- $Id: NEWS,v 1.931 2005/10/16 00:21:50 tom Exp $
 
 This is a log of changes that ncurses has gone through since Zeyd started
 working with Pavel Curtis' original work, pcurses, in 1992.
@@ -6,6 +6,17 @@
 Changes through 1.9.9e are recorded by Zeyd M. Ben-Halim.
 Changes since 1.9.9e are recorded by Thomas Dickey.
 
+20051015
+	+ correct order of use-clauses in rxvt-basic entry which made codes for
+	  f1-f4 vt100-style rather than vt220-style (report by Gabor Z Papp).
+	+ suppress configure check for gnatmake if Ada95/Makefile.in is not
+	  found.
+	+ correct a typo in configure --with-bool option for the case where
+	  --without-cxx is used (report by Daniel Jacobowitz).
+	+ add a note to INSTALL's discussion of --with-normal, pointing out
+	  that one may wish to use --without-gpm to ensure a completely
+	  static link (prompted by report by Felix von Leitner).
+
 20051010 5.5 release for upload to ftp.gnu.org
 
 20051008
Index: configure
--- ncurses-5.5-20051010+/configure	2005-09-24 21:50:50.000000000 +0000
+++ ncurses-5.5-20051015/configure	2005-10-15 21:06:42.000000000 +0000
@@ -1,5 +1,5 @@
 #! /bin/sh
-# From configure.in Revision: 1.351 .
+# From configure.in Revision: 1.353 .
 # Guess values for system-dependent variables and create Makefiles.
 # Generated by Autoconf 2.52.20030208.
 #
@@ -7570,7 +7570,7 @@
 else
   TERMINFO_CAPS=Caps
 fi;
-test -f ${srcdir}/include/${TERMINFO_CAPS} || TERMINFO_CAPS=Caps
+test -f "${srcdir}/include/${TERMINFO_CAPS}" || TERMINFO_CAPS=Caps
 echo "$as_me:7574: result: $TERMINFO_CAPS" >&5
 echo "${ECHO_T}$TERMINFO_CAPS" >&6
 
@@ -13178,11 +13178,12 @@
 	# may change.
 
 	if test "$NCURSES_BOOL" != auto ; then
-		cf_cv_type_of_bool=$NCURSES_AUTO
+		cf_cv_type_of_bool=$NCURSES_BOOL
+		cf_cv_header_stdbool_h=0
 	else
 		if test "$cf_cv_header_stdbool_h" = 1 ; then
 
-echo "$as_me:13185: checking for size of bool" >&5
+echo "$as_me:13186: checking for size of bool" >&5
 echo $ECHO_N "checking for size of bool... $ECHO_C" >&6
 if test "${cf_cv_type_of_bool+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -13193,7 +13194,7 @@
   cf_cv_type_of_bool=unknown
 else
   cat >conftest.$ac_ext <<_ACEOF
-#line 13196 "configure"
+#line 13197 "configure"
 #include "confdefs.h"
 
 #include <stdlib.h>
@@ -13235,15 +13236,15 @@
 
 _ACEOF
 rm -f conftest$ac_exeext
-if { (eval echo "$as_me:13238: \"$ac_link\"") >&5
+if { (eval echo "$as_me:13239: \"$ac_link\"") >&5
   (eval $ac_link) 2>&5
   ac_status=$?
-  echo "$as_me:13241: \$? = $ac_status" >&5
+  echo "$as_me:13242: \$? = $ac_status" >&5
   (exit $ac_status); } && { ac_try='./conftest$ac_exeext'
-  { (eval echo "$as_me:13243: \"$ac_try\"") >&5
+  { (eval echo "$as_me:13244: \"$ac_try\"") >&5
   (eval $ac_try) 2>&5
   ac_status=$?
-  echo "$as_me:13246: \$? = $ac_status" >&5
+  echo "$as_me:13247: \$? = $ac_status" >&5
   (exit $ac_status); }; }; then
   cf_cv_type_of_bool=`cat cf_test.out`
 		 if test -z "$cf_cv_type_of_bool"; then
@@ -13261,25 +13262,25 @@
 fi
 
 	rm -f cf_test.out
-echo "$as_me:13264: result: $cf_cv_type_of_bool" >&5
+echo "$as_me:13265: result: $cf_cv_type_of_bool" >&5
 echo "${ECHO_T}$cf_cv_type_of_bool" >&6
 if test "$cf_cv_type_of_bool" = unknown ; then
 	case .$NCURSES_BOOL in #(vi
 	.auto|.) NCURSES_BOOL=unsigned;;
 	esac
-	{ echo "$as_me:13270: WARNING: Assuming $NCURSES_BOOL for type of bool" >&5
+	{ echo "$as_me:13271: WARNING: Assuming $NCURSES_BOOL for type of bool" >&5
 echo "$as_me: WARNING: Assuming $NCURSES_BOOL for type of bool" >&2;}
 	cf_cv_type_of_bool=$NCURSES_BOOL
 fi
 
 		else
-			echo "$as_me:13276: checking for fallback type of bool" >&5
+			echo "$as_me:13277: checking for fallback type of bool" >&5
 echo $ECHO_N "checking for fallback type of bool... $ECHO_C" >&6
 			case "$host_cpu" in #(vi
 			i?86)	cf_cv_type_of_bool=char	;; #(vi
 			*)	cf_cv_type_of_bool=int	;;
 			esac
-			echo "$as_me:13282: result: $cf_cv_type_of_bool" >&5
+			echo "$as_me:13283: result: $cf_cv_type_of_bool" >&5
 echo "${ECHO_T}$cf_cv_type_of_bool" >&6
 		fi
 	fi
@@ -13304,11 +13305,12 @@
 	USE_CXX_BOOL='defined(__cplusplus)'
 fi
 
+if test -f "${srcdir}/Ada95/Makefile.in" ; then
 if test "$cf_with_ada" != "no" ; then
 cf_ada_make=gnatmake
 # Extract the first word of "$cf_ada_make", so it can be a program name with args.
 set dummy $cf_ada_make; ac_word=$2
-echo "$as_me:13311: checking for $ac_word" >&5
+echo "$as_me:13313: checking for $ac_word" >&5
 echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
 if test "${ac_cv_prog_gnat_exists+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -13323,7 +13325,7 @@
   test -z "$ac_dir" && ac_dir=.
   $as_executable_p "$ac_dir/$ac_word" || continue
 ac_cv_prog_gnat_exists="yes"
-echo "$as_me:13326: found $ac_dir/$ac_word" >&5
+echo "$as_me:13328: found $ac_dir/$ac_word" >&5
 break
 done
 
@@ -13332,10 +13334,10 @@
 fi
 gnat_exists=$ac_cv_prog_gnat_exists
 if test -n "$gnat_exists"; then
-  echo "$as_me:13335: result: $gnat_exists" >&5
+  echo "$as_me:13337: result: $gnat_exists" >&5
 echo "${ECHO_T}$gnat_exists" >&6
 else
-  echo "$as_me:13338: result: no" >&5
+  echo "$as_me:13340: result: no" >&5
 echo "${ECHO_T}no" >&6
 fi
 
@@ -13343,11 +13345,11 @@
    cf_ada_make=
 else
 
-echo "$as_me:13346: checking for gnat version" >&5
+echo "$as_me:13348: checking for gnat version" >&5
 echo $ECHO_N "checking for gnat version... $ECHO_C" >&6
 cf_gnat_version=`${cf_ada_make-gnatmake} -v 2>&1 | grep '[0-9].[0-9][0-9]*' |\
   sed -e '2,$d' -e 's/[^0-9 \.]//g' -e 's/^[ ]*//' -e 's/ .*//'`
-echo "$as_me:13350: result: $cf_gnat_version" >&5
+echo "$as_me:13352: result: $cf_gnat_version" >&5
 echo "${ECHO_T}$cf_gnat_version" >&6
 
 case $cf_gnat_version in
@@ -13370,7 +13372,7 @@
 
    # Extract the first word of "m4", so it can be a program name with args.
 set dummy m4; ac_word=$2
-echo "$as_me:13373: checking for $ac_word" >&5
+echo "$as_me:13375: checking for $ac_word" >&5
 echo $ECHO_N "checking for $ac_word... $ECHO_C" >&6
 if test "${ac_cv_prog_M4_exists+set}" = set; then
   echo $ECHO_N "(cached) $ECHO_C" >&6
@@ -13385,7 +13387,7 @@
   test -z "$ac_dir" && ac_dir=.
   $as_executable_p "$ac_dir/$ac_word" || continue
 ac_cv_prog_M4_exists="yes"
-echo "$as_me:13388: found $ac_dir/$ac_word" >&5
+echo "$as_me:13390: found $ac_dir/$ac_word" >&5
 break
 done
 
@@ -13394,10 +13396,10 @@
 fi
 M4_exists=$ac_cv_prog_M4_exists
 if test -n "$M4_exists"; then
-  echo "$as_me:13397: result: $M4_exists" >&5
+  echo "$as_me:13399: result: $M4_exists" >&5
 echo "${ECHO_T}$M4_exists" >&6
 else
-  echo "$as_me:13400: result: no" >&5
+  echo "$as_me:13402: result: no" >&5
 echo "${ECHO_T}no" >&6
 fi
 
@@ -13406,7 +13408,7 @@
       echo Ada95 binding required program m4 not found. Ada95 binding disabled.
    fi
    if test "$cf_cv_prog_gnat_correct" = yes; then
-      echo "$as_me:13409: checking if GNAT works" >&5
+      echo "$as_me:13411: checking if GNAT works" >&5
 echo $ECHO_N "checking if GNAT works... $ECHO_C" >&6
 
 rm -f conftest*
@@ -13434,14 +13436,14 @@
 fi
 rm -f conftest*
 
-      echo "$as_me:13437: result: $cf_cv_prog_gnat_correct" >&5
+      echo "$as_me:13439: result: $cf_cv_prog_gnat_correct" >&5
 echo "${ECHO_T}$cf_cv_prog_gnat_correct" >&6
    fi
 fi
 if test	"$cf_cv_prog_gnat_correct" = yes; then
    ADAFLAGS="-O3 -gnatpn $ADAFLAGS"
 
-   echo "$as_me:13444: checking if GNAT pragma Unreferenced works" >&5
+   echo "$as_me:13446: checking if GNAT pragma Unreferenced works" >&5
 echo $ECHO_N "checking if GNAT pragma Unreferenced works... $ECHO_C" >&6
 
 rm -f conftest*
@@ -13468,7 +13470,7 @@
 fi
 rm -f conftest*
 
-   echo "$as_me:13471: result: $cf_cv_pragma_unreferenced" >&5
+   echo "$as_me:13473: result: $cf_cv_pragma_unreferenced" >&5
 echo "${ECHO_T}$cf_cv_pragma_unreferenced" >&6
 
    # if the pragma is supported, use it (needed in the Trace code).
@@ -13514,7 +13516,7 @@
   withval=`echo $withval | sed -e s%NONE%$ac_default_prefix%`
   ;;
 *)
-  { { echo "$as_me:13517: error: expected a pathname, not \"$withval\"" >&5
+  { { echo "$as_me:13519: error: expected a pathname, not \"$withval\"" >&5
 echo "$as_me: error: expected a pathname, not \"$withval\"" >&2;}
    { (exit 1); exit 1; }; }
   ;;
@@ -13548,7 +13550,7 @@
   withval=`echo $withval | sed -e s%NONE%$ac_default_prefix%`
   ;;
 *)
-  { { echo "$as_me:13551: error: expected a pathname, not \"$withval\"" >&5
+  { { echo "$as_me:13553: error: expected a pathname, not \"$withval\"" >&5
 echo "$as_me: error: expected a pathname, not \"$withval\"" >&2;}
    { (exit 1); exit 1; }; }
   ;;
@@ -13558,10 +13560,11 @@
 
 fi
 fi
+fi
 
 ### Construct the library-subsets, if any, from this set of keywords:
 ### none, base, ext_funcs, ext_tinfo, termlib, widechar (see CF_LIB_RULES).
-echo "$as_me:13564: checking for library subsets" >&5
+echo "$as_me:13567: checking for library subsets" >&5
 echo $ECHO_N "checking for library subsets... $ECHO_C" >&6
 if test "$with_termlib" != no ; then
 	LIB_SUBSETS="termlib"
@@ -13574,7 +13577,7 @@
 LIB_SUBSETS="${LIB_SUBSETS}base"
 test "$with_widec"     = yes && LIB_SUBSETS="${LIB_SUBSETS}+widechar"
 test "$with_ext_funcs" = yes && LIB_SUBSETS="${LIB_SUBSETS}+ext_funcs"
-echo "$as_me:13577: result: $LIB_SUBSETS" >&5
+echo "$as_me:13580: result: $LIB_SUBSETS" >&5
 echo "${ECHO_T}$LIB_SUBSETS" >&6
 
 ### Construct the list of include-directories to be generated
@@ -13612,7 +13615,7 @@
 fi
 
 ### Build up pieces for makefile rules
-echo "$as_me:13615: checking default library suffix" >&5
+echo "$as_me:13618: checking default library suffix" >&5
 echo $ECHO_N "checking default library suffix... $ECHO_C" >&6
 
 	case $DFT_LWR_MODEL in
@@ -13623,10 +13626,10 @@
 	shared)  DFT_ARG_SUFFIX=''   ;;
 	esac
 	test -n "$LIB_SUFFIX" && DFT_ARG_SUFFIX="${LIB_SUFFIX}${DFT_ARG_SUFFIX}"
-echo "$as_me:13626: result: $DFT_ARG_SUFFIX" >&5
+echo "$as_me:13629: result: $DFT_ARG_SUFFIX" >&5
 echo "${ECHO_T}$DFT_ARG_SUFFIX" >&6
 
-echo "$as_me:13629: checking default library-dependency suffix" >&5
+echo "$as_me:13632: checking default library-dependency suffix" >&5
 echo $ECHO_N "checking default library-dependency suffix... $ECHO_C" >&6
 
 	case $DFT_LWR_MODEL in
@@ -13655,10 +13658,10 @@
 		;;
 	esac
 fi
-echo "$as_me:13658: result: $DFT_DEP_SUFFIX" >&5
+echo "$as_me:13661: result: $DFT_DEP_SUFFIX" >&5
 echo "${ECHO_T}$DFT_DEP_SUFFIX" >&6
 
-echo "$as_me:13661: checking default object directory" >&5
+echo "$as_me:13664: checking default object directory" >&5
 echo $ECHO_N "checking default object directory... $ECHO_C" >&6
 
 	case $DFT_LWR_MODEL in
@@ -13674,12 +13677,12 @@
 			DFT_OBJ_SUBDIR='obj_s' ;;
 		esac
 	esac
-echo "$as_me:13677: result: $DFT_OBJ_SUBDIR" >&5
+echo "$as_me:13680: result: $DFT_OBJ_SUBDIR" >&5
 echo "${ECHO_T}$DFT_OBJ_SUBDIR" >&6
 
 # libtool thinks it can make c++ shared libraries (perhaps only g++)
 if test "$cf_with_cxx" = yes ; then
-echo "$as_me:13682: checking c++ library-dependency suffix" >&5
+echo "$as_me:13685: checking c++ library-dependency suffix" >&5
 echo $ECHO_N "checking c++ library-dependency suffix... $ECHO_C" >&6
 if test "$with_libtool" != "no"; then
 	CXX_LIB_SUFFIX=$DFT_DEP_SUFFIX
@@ -13705,7 +13708,7 @@
 	esac
 	test -n "$LIB_SUFFIX" && CXX_LIB_SUFFIX="${LIB_SUFFIX}${CXX_LIB_SUFFIX}"
 fi
-echo "$as_me:13708: result: $CXX_LIB_SUFFIX" >&5
+echo "$as_me:13711: result: $CXX_LIB_SUFFIX" >&5
 echo "${ECHO_T}$CXX_LIB_SUFFIX" >&6
 
 fi
@@ -13744,12 +13747,12 @@
 # needed for Ada95
 TINFO_ARGS2=`echo "$TINFO_ARGS" | sed -e 's,-L\.\./,-L../../,'`
 
-echo "$as_me:13747: checking where we will install curses.h" >&5
+echo "$as_me:13750: checking where we will install curses.h" >&5
 echo $ECHO_N "checking where we will install curses.h... $ECHO_C" >&6
 test "$with_overwrite" = no && \
 test "x$includedir" = 'x${prefix}/include' && \
 	includedir='$(prefix)/include/ncurses'${LIB_SUFFIX}
-echo "$as_me:13752: result: $includedir" >&5
+echo "$as_me:13755: result: $includedir" >&5
 echo "${ECHO_T}$includedir" >&6
 
 ### Resolve a conflict between normal and wide-curses by forcing applications
@@ -13757,7 +13760,7 @@
 if test "$with_overwrite" != no ; then
 if test "$NCURSES_LIBUTF8" = 1 ; then
 	NCURSES_LIBUTF8='defined(HAVE_LIBUTF8_H)'
-	{ echo "$as_me:13760: WARNING: Wide-character applications must define HAVE_LIBUTF8_H to include curses.h" >&5
+	{ echo "$as_me:13763: WARNING: Wide-character applications must define HAVE_LIBUTF8_H to include curses.h" >&5
 echo "$as_me: WARNING: Wide-character applications must define HAVE_LIBUTF8_H to include curses.h" >&2;}
 fi
 fi
@@ -13770,7 +13773,7 @@
 ### Construct the list of subdirectories for which we'll customize makefiles
 ### with the appropriate compile-rules.
 
-echo "$as_me:13773: checking for src modules" >&5
+echo "$as_me:13776: checking for src modules" >&5
 echo $ECHO_N "checking for src modules... $ECHO_C" >&6
 
 # dependencies and linker-arguments for test-programs
@@ -13833,7 +13836,7 @@
 		fi
 	fi
 done
-echo "$as_me:13836: result: $cf_cv_src_modules" >&5
+echo "$as_me:13839: result: $cf_cv_src_modules" >&5
 echo "${ECHO_T}$cf_cv_src_modules" >&6
 
 TEST_ARGS="-L${LIB_DIR} $TEST_ARGS"
@@ -14058,7 +14061,7 @@
 : ${CONFIG_STATUS=./config.status}
 ac_clean_files_save=$ac_clean_files
 ac_clean_files="$ac_clean_files $CONFIG_STATUS"
-{ echo "$as_me:14061: creating $CONFIG_STATUS" >&5
+{ echo "$as_me:14064: creating $CONFIG_STATUS" >&5
 echo "$as_me: creating $CONFIG_STATUS" >&6;}
 cat >$CONFIG_STATUS <<_ACEOF
 #! $SHELL
@@ -14234,7 +14237,7 @@
     echo "$ac_cs_version"; exit 0 ;;
   --he | --h)
     # Conflict between --help and --header
-    { { echo "$as_me:14237: error: ambiguous option: $1
+    { { echo "$as_me:14240: error: ambiguous option: $1
 Try \`$0 --help' for more information." >&5
 echo "$as_me: error: ambiguous option: $1
 Try \`$0 --help' for more information." >&2;}
@@ -14253,7 +14256,7 @@
     ac_need_defaults=false;;
 
   # This is an error.
-  -*) { { echo "$as_me:14256: error: unrecognized option: $1
+  -*) { { echo "$as_me:14259: error: unrecognized option: $1
 Try \`$0 --help' for more information." >&5
 echo "$as_me: error: unrecognized option: $1
 Try \`$0 --help' for more information." >&2;}
@@ -14339,7 +14342,7 @@
   "Makefile" ) CONFIG_FILES="$CONFIG_FILES Makefile" ;;
   "default" ) CONFIG_COMMANDS="$CONFIG_COMMANDS default" ;;
   "include/ncurses_cfg.h" ) CONFIG_HEADERS="$CONFIG_HEADERS include/ncurses_cfg.h:include/ncurses_cfg.hin" ;;
-  *) { { echo "$as_me:14342: error: invalid argument: $ac_config_target" >&5
+  *) { { echo "$as_me:14345: error: invalid argument: $ac_config_target" >&5
 echo "$as_me: error: invalid argument: $ac_config_target" >&2;}
    { (exit 1); exit 1; }; };;
   esac
@@ -14697,7 +14700,7 @@
   esac
 
   if test x"$ac_file" != x-; then
-    { echo "$as_me:14700: creating $ac_file" >&5
+    { echo "$as_me:14703: creating $ac_file" >&5
 echo "$as_me: creating $ac_file" >&6;}
     rm -f "$ac_file"
   fi
@@ -14715,7 +14718,7 @@
       -) echo $tmp/stdin ;;
       [\\/$]*)
          # Absolute (can't be DOS-style, as IFS=:)
-         test -f "$f" || { { echo "$as_me:14718: error: cannot find input file: $f" >&5
+         test -f "$f" || { { echo "$as_me:14721: error: cannot find input file: $f" >&5
 echo "$as_me: error: cannot find input file: $f" >&2;}
    { (exit 1); exit 1; }; }
          echo $f;;
@@ -14728,7 +14731,7 @@
            echo $srcdir/$f
          else
            # /dev/null tree
-           { { echo "$as_me:14731: error: cannot find input file: $f" >&5
+           { { echo "$as_me:14734: error: cannot find input file: $f" >&5
 echo "$as_me: error: cannot find input file: $f" >&2;}
    { (exit 1); exit 1; }; }
          fi;;
@@ -14794,7 +14797,7 @@
   * )   ac_file_in=$ac_file.in ;;
   esac
 
-  test x"$ac_file" != x- && { echo "$as_me:14797: creating $ac_file" >&5
+  test x"$ac_file" != x- && { echo "$as_me:14800: creating $ac_file" >&5
 echo "$as_me: creating $ac_file" >&6;}
 
   # First look for the input files in the build tree, otherwise in the
@@ -14805,7 +14808,7 @@
       -) echo $tmp/stdin ;;
       [\\/$]*)
          # Absolute (can't be DOS-style, as IFS=:)
-         test -f "$f" || { { echo "$as_me:14808: error: cannot find input file: $f" >&5
+         test -f "$f" || { { echo "$as_me:14811: error: cannot find input file: $f" >&5
 echo "$as_me: error: cannot find input file: $f" >&2;}
    { (exit 1); exit 1; }; }
          echo $f;;
@@ -14818,7 +14821,7 @@
            echo $srcdir/$f
          else
            # /dev/null tree
-           { { echo "$as_me:14821: error: cannot find input file: $f" >&5
+           { { echo "$as_me:14824: error: cannot find input file: $f" >&5
 echo "$as_me: error: cannot find input file: $f" >&2;}
    { (exit 1); exit 1; }; }
          fi;;
@@ -14876,7 +14879,7 @@
   rm -f $tmp/in
   if test x"$ac_file" != x-; then
     if cmp -s $ac_file $tmp/config.h 2>/dev/null; then
-      { echo "$as_me:14879: $ac_file is unchanged" >&5
+      { echo "$as_me:14882: $ac_file is unchanged" >&5
 echo "$as_me: $ac_file is unchanged" >&6;}
     else
       ac_dir=`$as_expr X"$ac_file" : 'X\(.*[^/]\)//*[^/][^/]*/*$' \| \
Index: configure.in
Prereq:  1.351 
--- ncurses-5.5-20051010+/configure.in	2005-09-17 22:41:48.000000000 +0000
+++ ncurses-5.5-20051015/configure.in	2005-10-15 21:06:25.000000000 +0000
@@ -28,14 +28,14 @@
 dnl
 dnl Author: Thomas E. Dickey 1995-on
 dnl
-dnl $Id: configure.in,v 1.351 2005/09/17 22:41:48 tom Exp $
+dnl $Id: configure.in,v 1.354 2005/10/15 21:06:25 tom Exp $
 dnl Process this file with autoconf to produce a configure script.
 dnl
 dnl See http://invisible-island.net/autoconf/ for additional information.
 dnl
 dnl ---------------------------------------------------------------------------
 AC_PREREQ(2.13.20020210)
-AC_REVISION($Revision: 1.351 $)
+AC_REVISION($Revision: 1.354 $)
 AC_INIT(ncurses/base/lib_initscr.c)
 AC_CONFIG_HEADER(include/ncurses_cfg.h:include/ncurses_cfg.hin)
 
@@ -666,7 +666,7 @@
 	[  --with-caps=alt         compile with alternate Caps file],
 	[TERMINFO_CAPS=Caps.$withval],
 	[TERMINFO_CAPS=Caps])
-test -f ${srcdir}/include/${TERMINFO_CAPS} || TERMINFO_CAPS=Caps
+test -f "${srcdir}/include/${TERMINFO_CAPS}" || TERMINFO_CAPS=Caps
 AC_MSG_RESULT($TERMINFO_CAPS)
 AC_SUBST(TERMINFO_CAPS)
 
@@ -1187,7 +1187,8 @@
 	# may change.
 
 	if test "$NCURSES_BOOL" != auto ; then
-		cf_cv_type_of_bool=$NCURSES_AUTO
+		cf_cv_type_of_bool=$NCURSES_BOOL
+		cf_cv_header_stdbool_h=0
 	else
 		if test "$cf_cv_header_stdbool_h" = 1 ; then
 			CF_BOOL_SIZE
@@ -1227,6 +1228,7 @@
 
 dnl Check for availability of GNU Ada Translator (GNAT).
 dnl At the moment we support no other Ada95 compiler.
+if test -f "${srcdir}/Ada95/Makefile.in" ; then
 if test "$cf_with_ada" != "no" ; then
 cf_ada_make=gnatmake
 AC_CHECK_PROG(gnat_exists, $cf_ada_make, yes, no)
@@ -1309,6 +1311,7 @@
 
 fi
 fi
+fi
 
 ### Construct the library-subsets, if any, from this set of keywords:
 ### none, base, ext_funcs, ext_tinfo, termlib, widechar (see CF_LIB_RULES).
Index: dist.mk
Prereq:  1.498 
--- ncurses-5.5-20051010+/dist.mk	2005-10-09 14:41:57.000000000 +0000
+++ ncurses-5.5-20051015/dist.mk	2005-10-15 18:26:08.000000000 +0000
@@ -1,4 +1,4 @@
-# $Id: dist.mk,v 1.498 2005/10/09 14:41:57 tom Exp $
+# $Id: dist.mk,v 1.499 2005/10/15 18:26:08 tom Exp $
 # Makefile for creating ncurses distributions.
 #
 # This only needs to be used directly as a makefile by developers, but
@@ -10,7 +10,7 @@
 # These define the major/minor/patch versions of ncurses.
 NCURSES_MAJOR = 5
 NCURSES_MINOR = 5
-NCURSES_PATCH = 20051010
+NCURSES_PATCH = 20051015
 
 # We don't append the patch to the version, since this only applies to releases
 VERSION = $(NCURSES_MAJOR).$(NCURSES_MINOR)
Index: misc/terminfo.src
--- ncurses-5.5-20051010+/misc/terminfo.src	2005-07-24 00:22:25.000000000 +0000
+++ ncurses-5.5-20051015/misc/terminfo.src	2005-10-16 00:14:02.000000000 +0000
@@ -4,8 +4,8 @@
 # Report bugs and new terminal descriptions to
 #	bug-ncurses@gnu.org
 #
-#	$Revision: 1.268 $
-#	$Date: 2005/07/24 00:22:25 $
+#	$Revision: 1.269 $
+#	$Date: 2005/10/16 00:14:02 $
 #
 # The original header is preserved below for reference.  It is noted that there
 # is a "newer" version which differs in some cosmetic details (but actually
@@ -3493,7 +3493,7 @@
 	sgr=\E[0%?%p6%t;1%;%?%p2%t;4%;%?%p1%p3%|%t;7%;%?%p4%t;5%;m%?%p9%t\016%e\017%;, 
 	sgr0=\E[0m\017, smacs=^N, smcup=\E7\E[?47h, smir=\E[4h, 
 	smkx=\E=, smso=\E[7m, smul=\E[4m, tbc=\E[3g, 
-	use=vt220+keypad, use=rxvt+pcfkeys, 
+	use=rxvt+pcfkeys, use=vt220+keypad,
 # Key Codes from rxvt reference:
 # 
 # Note: Shift + F1-F10 generates F11-F20
@@ -21009,6 +21009,9 @@
 #	* modify sgr string of prism9 to better match the individual
 #	  attributes -TD
 #
+# 2005-10-15
+#	* correct order of use= in rxvt-basic -TD
+#
 # The following sets edit modes for GNU EMACS.
 # Local Variables:
 # fill-prefix:"\t"
